<div class="toolbar">
    <div class="d-flex  justify-content-between header-menu ">
      <div class="left-d-flex">
        <div class="d-flex">
          <h5 class="h5" >Bình luận</h5>
          <input type="text " class="form-control "  placeholder="Tìm kiếm" style="height: 30px; width: 110px;">
          <div class="input-group-append inputt" >
            <button type="submit" class="input-group-text"><i class="fa fa-search"></i></button>
          </div>
          <div class="item-select">
            <select class="custom-select" style="width: 120px ; height: 30px;"  >
              <option>Lọc</option>
              <option>Blog</option>
              <option>Tin tức</option>
              <option>Tuyển dụng</option>
            </select>
          </div>
        </div>
      </div>
      <div class="right-d-flex">
        <div class="d-flex  flex-wrap">
          <div class="menu-item ">
            <div class="d-flex">
              <span class="fw-semibold mr-1">Số mục mỗi trang:</span>
              <select class="custom-select">
                <option>5</option>
                <option>10</option>
                <option>15</option>
              </select>
              <a routerLink="../">
                <i class="fa fa-arrow-circle-o-left" style="font-size: 26px; margin-left: 8px; color: black;"></i>

              </a>
            </div>
          </div>

        </div>
      </div>
    </div>
</div>


<div class="mt-5">
    <div class="container">
      <!-- <div class="detail">
          <table class="table table-striped" id="myTable">
            <thead>
              <tr style="font-weight: bold;">
                  <td >Tên Bài Viết</td>
                  <td  >Tên Người Gửi</td>
                  <td class="w-25">Nội Dung</td>
                  <td>Thời gian</td>
                  <td> </td>
              </tr>
            </thead>
            <tbody *ngFor="let cmt of commentList ">
              <tr >
                <td scope="row">{{cmt.post.title}}</td>
                  <td>{{cmt.user.username}}</td>
                  <td>
                    <a class="btn-link" data-toggle="collapse"  href="#reply{{cmt.id}}" >
                      {{cmt.content}}
                    </a>
                  </td>
                  <td>{{cmt.date}}</td>
                  <td> <span class="icon" >

                    <a *ngIf="cmt.status ; else hien"  class="icon-item" (click)="Disable(cmt.id)" ><i class="far fa-eye"></i> </a>
                    <ng-template #hien >
                      <a class="icon-item" (click)="Enable(cmt.id)"> <i class="far fa-eye-slash"></i> </a>
                    </ng-template>
                    <a  class="icon-item" (click)="Delete(cmt.id)"> <i class="fa fa-trash-o" style="font-size:22px"></i></a>
                  </span>
                  </td>
              </tr>
              <tr>
                <td colspan="7">
                  <div id="reply{{cmt.id}}" class="collapse" data-parent="#accordion" >
                    <div style="text-align:start;"   [innerHTML]="cmt.content" >
                    </div>
                    <div *ngFor="let cmtChild of commentListChild" class="d-flex flex-column" style="margin-bottom: 10px; margin-left: 10px; " >
                      <div class="reply-content row  " *ngIf="cmt.id == cmtChild.parentId">
                        <div class="col-md-2">
                          <div class="info-comment">
                            <div class="img-comment d-flex flex-column" style="margin: 0px;">
                              <img src="./assets/images/avt.jpg" alt="">
                              <span >
                          {{cmtChild.user.username}}
                          </span>
                              <span>{{cmtChild.date}}</span>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-8">
                          <p class="child-content">{{cmtChild.content}}</p>
                        </div>
                        <div class="col-md-2" *ngIf="userId == cmtChild.user.id ">
                          <a  href="" >Chỉnh sửa</a>
                          <a href="">Xóa</a>
                        </div>
                      </div>

                    </div>
                    <p style="text-align:start;">Nội dung trả lời</p>
                    <div  style="text-align:start;">Phần trả lời: </div>

                    <div style="text-align:start;" > <textarea name="" id="" cols="60" rows="3"></textarea>
                       <button class="btn">Gửi</button>
                    </div>

                  </div>
                </td>
              </tr>
            </tbody>
          </table>
      </div> -->
      <div class="row" style="font-weight: bold; color: #1076bc; font-size: 18px;">
          <div class="col-md-12">
              <div class="card " style="background-color: #eeeeee; ">
                  <div class="row">
                    <div class="col-md-3">
                      <p>Tên tác giả</p>
                    </div>
                    <div class="col-md-3">
                      <p>Nội dung bình luận</p>
                    </div>
                    <div class="col-md-2">
                      <p>Tên bài viết</p>
                    </div>
                    <div class="col-md-2">
                      <p>Thời gian đăng</p>
                    </div>
                    <div class="col-md-2">
                      <p>Chức năng</p>
                    </div>
                  </div>
              </div>
          </div>
      </div>
      <div class="list-cmt">
        <div class="row">
          <div class="col-md-12"  *ngFor="let cmt of commentList " >
            <div class="card card-list" >
              <div class="row h-100" >
                <div class="col-md-3 m-auto">
                  <div class="d-flex ml-3 ">
                    <img class="mr-2 w-20" src="./assets/images/avt.jpg" alt="">
                    <div  class="text-left my-auto">
                      <span> <b> {{cmt.user.username}}</b></span>
                      <p>{{cmt.user.email}}</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-3 m-auto">
                  <p class="cmt-content">{{cmt.content}}</p>
                </div>
                <div class="col-md-2 m-auto">
                  <a href="" class="pos-title" >{{cmt.post.title}}</a>
                </div>
                <div class="col-md-2 m-auto">
                  <p>{{cmt.date}}</p>
                </div>
                <div class="col-md-2 m-auto">
                  <div class="icon" >
                    <a href="" class="icon-item w-20" data-toggle="collapse"  href="#reply{{cmt.id}}"> 
                      <img src="./assets/images/repcmt.png" style="width: 24px;" alt="">
                    </a>
                    <a *ngIf="cmt.status ; else hien"  class="icon-item " (click)="Disable(cmt.id)" ><i class="far fa-eye"></i> </a>
                    <ng-template #hien >
                      <a class="icon-item" (click)="Enable(cmt.id)"> <i class="far fa-eye-slash"></i> </a>
                    </ng-template>
                    <a  class="icon-item" (click)="Delete(cmt.id)"> <i class="fa fa-trash-o" style="font-size:22px"></i></a>
                  </div>
                </div>
              </div>
            </div>
            <div class="">
              <div id="reply{{cmt.id}}" class="collapse card " data-parent="#accordion" > 
                <span> <b>Nội dung bình luận : </b></span>
                <div class="text-left container tab" [innerHTML]="cmt.content" >
              </div>
              
              <div class="text-left" >  <b>Nội dung trả lời:</b> 
                <div *ngFor="let cmtChild of commentListChild">
                  <div style="margin-bottom: 10px;">
                    <div class="reply-content tab container" *ngIf="cmt.id == cmtChild.parentId">
                      <div class="col-md-3">
                        <div class="info-comment">
                          <div class="img-comment d-flex " style="margin: 0px;">
                            <img src="./assets/images/avt.jpg" style="width: 30% !important;" alt="">
                            <div class="my-auto">
                              <p>
                                {{cmtChild.user.username}}
                              </p>
                              <span>{{cmtChild.date}}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-7">
                        <p class="child-content">{{cmtChild.content}}</p>
                      </div>
                      <div class="col-md-2 d-flex flex-column">
                        <div *ngIf="userId == cmtChild.user.id ">
                          <a><span class="dis-enable">Chỉnh sửa</span></a>
                        </div>
                        <a *ngIf="cmtChild.status ; else hien"  (click)="DisableChild(cmtChild.id)" ><span class="dis-enable">Ẩn</span> </a>
                        <ng-template #hien >
                            <a (click)="EnableChild(cmtChild.id)" > <span class="dis-enable">Hiện</span> </a>
                        </ng-template>
                        <a (click)="DeleteChild(cmtChild.id)" ><span class="delete-cmt" >Xóa</span></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="text-left" > <b>Phần trả lời:</b> </div>
              <div class="text-left  container d-flex tab">
                 <textarea name="" id="" cols="60" rows="3"></textarea>
                 <button class="btn" style="height: 65px;">Gửi</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      

    </div>
  </div>
